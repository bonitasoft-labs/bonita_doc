<div style="position: relative;"><a href="https://github.com/bonitasoft/bonita-ici-doc/edit/1.0/md/polling.md"><img style="position: absolute; top: -1px; right: -40px; border: 0; z-index=-100;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"/></a></div>
<h1>Poll data from Bonita platform to ICI Module</h1>
<p>In order to learn from the history of all executed processes in Bonita platform, ICI backend need to access and poll data from Bonita platform database.</p>
<p>The first time ICI backend is launched, all data regarding case and task execution is retrieved from the Bonita platform database. Then, every 15 minutes (default configuration), a job updates the module with data of newly executed tasks and cases.</p>
<h2>Configuration</h2>
<p>All these configuration can be set in the <code>application.properties</code> of the ICI backend.</p>
<p>Bonita platform database connection informations</p>
<pre><code>bonita.datasource.url=jdbc url
bonita.datasource.username=username
bonita.datasource.password=password
</code></pre>
<p>If you use oracle you need to add your driver <code>lib</code> folder of the ICI backend ( or in the <code>jdbc_driver</code> folder of the  installer if you use it).</p>
<p>Polling rate interval, i.e. at each rate the data in ICI backend will be updated</p>
<pre><code>bonita.ici.polling.rate_minute=15
</code></pre>
<p>The connection pool of this polling can be configured to limit or increase the polling velocity.
It can be useful to decrease it when you want to limit the impact of the ICI modules on Bonita platform's performances.</p>
<pre><code>spring.datasource.hikari.maximum-pool-size=20
</code></pre>
<h2>Manage polling executions</h2>
<p>The polling can be handled on a page served directly on the ICI backend. By default it can be accessed on <a href="http://localhost:8082/">http://localhost:8082/</a></p>
<p>This page allows to:</p>
<ul>
<li>activate/deactivate the polling</li>
<li>run it immediately</li>
<li>cancel any running polling</li>
<li>see previous polling executions</li>
</ul>
<h2>Troubleshooting</h2>
<h3>Polling errors</h3>
<p>When a polling execution fails, it can be seen in error on the ICI backend. By default it can be accessed on <a href="http://localhost:8082/">http://localhost:8082/</a>.</p>
<p>More information would be available in output logs on the ICI backend, either in the Standard output or in the log file <code>logs/bonita-ici.log</code></p>
<h3>Deleted cases</h3>
<p>When a started case is already polled in ICI storage and then deleted in Bonita platform, this case is still present
in ICI storage and will still be displayed in Operation Management Living app, but this overview can't be displayed
anymore since data is deleted from Bonita database .</p>
<!-- Generated on Thu Oct 04 2018 10:45:17 GMT+0200 (Paris, Madrid (heure d’été)) -->