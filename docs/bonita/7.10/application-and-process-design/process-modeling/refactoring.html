<!DOCTYPE html>
<html lang="">
<!-- head -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <title>Refactoring</title>
    <!-- stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css"> 
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">
    <link rel="stylesheet" href="/bonita_doc/assets/main.css">
    <!-- <link rel="stylesheet" href="/bonita_doc/assets/richleland-pygments-css/vs.css"> --> 
    <!-- jekyll-seo-tag -->
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Refactoring | Bonitasoft Documentation Prototype</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Refactoring" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Refactoring. Refactoring Elements and scope. Elements and scope. Elements and scopeelements-and-scopeRefactoring applies to the following types of element variable form field actor parameter document contract input business variable page search index (in Bonita Subscription Pack editions Efficiency, Performance and" />
<meta property="og:description" content="Refactoring. Refactoring Elements and scope. Elements and scope. Elements and scopeelements-and-scopeRefactoring applies to the following types of element variable form field actor parameter document contract input business variable page search index (in Bonita Subscription Pack editions Efficiency, Performance and" />
<link rel="canonical" href="https://pbelabbes.github.io/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring" />
<meta property="og:url" content="https://pbelabbes.github.io/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring" />
<meta property="og:site_name" content="Bonitasoft Documentation Prototype" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-10-08T11:26:36+02:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Refactoring","dateModified":"2020-10-08T11:26:36+02:00","datePublished":"2020-10-08T11:26:36+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://pbelabbes.github.io/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring"},"url":"https://pbelabbes.github.io/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring","description":"Refactoring. Refactoring Elements and scope. Elements and scope. Elements and scopeelements-and-scopeRefactoring applies to the following types of element variable form field actor parameter document contract input business variable page search index (in Bonita Subscription Pack editions Efficiency, Performance and","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- favicons and rss -->
    <link rel="alternate" type="application/rss+xml" title="Bonitasoft Documentation Prototype" href="/bonita_doc/feed.xml">
    <link rel="icon" type="image/png" sizes="32x32" href="/bonita_doc/assets/favicon/bonita-32_0.png">
</head>
<body>
    <!-- header --><div class="documentationHeader">
    <nav class="navbar navbar-default">
      <div id="top-links" class="container-fluid">
          <div class="row">
             <ul class="inline pull-right">
                 <li><a href="http://www.bonitasoft.com/about-us/news" style="color: white">News</a></li>
                 <li><a href="http://community.bonitasoft.com/" style="color: white">Community</a></li>
                 <li><a href="http://customer.bonitasoft.com/" style="color: white">Customer portal</a></li>
                 <li><a href="http://partner.bonitasoft.com/home" style="color: white">Partners</a></li>
             </ul>
          </div>
      </div>
      <div class="container-fluid main_nav">
        <div class="navbar-header">
          <a class="logo">
            <img alt="Bonitasoft" src="/bonita_doc/assets/img/logo_white.png">
          </a>
        </div>
        <ul class="nav navbar-nav">
          <li class="dropdown" >
            <a class="version" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Bonita <span class="caret"></span></a>
            <ul class="dropdown-menu">
                
                
                <li role="menuitem">
                        <a class="version" href="/bonita_doc/bonita/7.8">7.8 </a>
                </li>
      
                
                
                <!-- <li class="menu-item dropdown dropdown-submenu">
                    <a class="dropdown-toggle">Other versions</a>
                    <ul class="dropdown-menu">
                        <li >
                            <a href="" class="version"></a>
                        </li>
                    </ul>
                </li> -->
  
            </ul>
          </li>
          <li class="dropdown">
          <a class="version" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Add-ons <span class="caret"></span></a>
          <ul class="dropdown-menu" >

              
              
                
                    <li class="menu-item dropdown dropdown-submenu" >
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">bcd</a>
                        <ul class="dropdown-menu">
                            
                                <li class="addOnVersion" >
                                    <a class="version" href="/bonita_doc/bcd/1.0">1.0</a>
                                </li>
                            
                            
                        </ul>
                    </li>
                
                
               
              
               
              
                
                    <li class="menu-item dropdown dropdown-submenu" >
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">ici</a>
                        <ul class="dropdown-menu">
                            
                                <li class="addOnVersion" >
                                    <a class="version" href="/bonita_doc/ici/1.1">1.1</a>
                                </li>
                            
                            
                        </ul>
                    </li>
                
                
               
              
                
                
               
              
          </ul>
          </li>
        </ul>
        <div id="react-search"></div>
      </div>
     
    </nav>
  </div><div class="container-fluid">
        <div class="row">
            <div class="col-md-3"><div id="navigationHeader" class="documentationNavigationHeader">
    <h2><a href="/bonita_doc/bonita/7.10">
            
            <img src="/bonita_doc/assets/img/logo_bonita.png" />
            
                

                <span>Bonita  7.10</span>
        </a>
    </h2>
</div>

<div class="documentationNavigation">
  
    <!-- Create an array to store the current category --><!-- Start iterate in categories  -->
    <ul></ul>
</div></div>
            <div class="col-md-9 content--noPaddingRight" >
                <div class="documentationContent">
                    <div class="documentationPage">
                            <a href="https://github.com/bonitasoft/bonita-doc/edit/7.10/md/refactoring.md" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
                       <article>
                        <h1 id="refactoring">Refactoring</h1>

<p>Refactoring a process definition means changing the name of a process element without changing the external behaviour. Typically, this is done when a process definition is almost complete, to improve readability and maintainability, or to adopt a new set of <a href="/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/naming-conventions">naming conventions</a>. In Bonita Studio, when you change the name of an element, the change is propagated to all the places that reference this element. If the change is simple (for example, you rename a variable used in transitions), the change is made automatically. If the change is more complex, such as renaming a variable used in a Groovy script, Bonita Studio displays the update for you to validate before it is implemented.Refactoring is also used when you delete a process element. Expressions using the element directly will be cleared and expressions having dependency on it will clear the dependency and replace it by a blank placeholder in Groovy scripts.</p>

<div class="list-group"><a href="/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring#elements-and-scope" class="list-group-item toc-h2">Elements and scope</a><a href="/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring#scope" class="list-group-item toc-h2">Scope</a><a href="/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring#limitations" class="list-group-item toc-h2">Limitations</a><a href="/bonita_doc/bonita/7.10/application-and-process-design/process-modeling/refactoring#example" class="list-group-item toc-h2">Example</a>
</div>
<h2 id="elements-and-scope">Elements and scope</h2>

<p id="elements-and-scope">Refactoring applies to the following types of element:</p>

<ul>
  <li>variable</li>
  <li>form field</li>
  <li>actor</li>
  <li>parameter</li>
  <li>document</li>
  <li>contract input</li>
  <li>business variable</li>
  <li>page</li>
  <li>search index (in Bonita Subscription Pack editions Efficiency, Performance and Enterprise)</li>
</ul>

<p>When you change the name of an element of one of these types, the name is changed throughout the process definition, including inside scripts and connector instance definitions.</p>

<h2 id="scope">Scope</h2>

<p>The scope of refactoring is the process. If you rename one of the items above in a process, Bonita Studio detects and updates all the places in the same process where it is used. The refactoring does not extend outside the process.</p>

<p>If your business process includes a call activity subprocess with mapped data, you need to modify the data mapping manually, checking both the parent process and the subprocess. If you also plan to refactor the subprocess, you should refactor it first, before making any manual changes to data mapping.</p>

<h2 id="limitations">Limitations</h2>

<p>Refactoring is not available for the following process definition elements:</p>

<ul>
  <li>7.x pages do not reflect modifications of business data, documents and contract inputs.</li>
  <li>“List of options” elements are not managed by refactoring. If you rename an option, you need to manually update any widgets that use this option as initial value.</li>
  <li>Refactoring cannot be used to modify the type of an element, It is limited to renaming.</li>
  <li>Expression dependencies are not recomputed in the Groovy script comparison editor. This means that you need to manually go back to each expression dependency and uncheck/check the “automatic dependency resolution” if you added a new element in the Groovy script comparison editor.</li>
</ul>

<h2 id="example">Example</h2>

<p>Suppose you have a process that loops to collect feedback on a new product feature, and has an process variable called <em>count</em> that is used to count the number of people who complete the survey form. The variable is used in the following places in the process definition:</p>

<ul>
  <li>It is set to zero when a process instance is created.</li>
  <li>It is incremented using an operation when a user submits a survey form, that is, it is used as the loop counter.</li>
  <li>It is used in script that creates the content for a daily report sent by email to the feature owner, reporting how many survey forms have been submitted. This report is sent using the email connector, and the script is part of the connector definition.</li>
</ul>

<p>For clarity, it would be better to have a more meaningful name for this variable, so you want to change the name from <em>count</em> to <em>numberOfSurveyFormsReturned</em>:</p>

<ol>
  <li>Select the pool and go to the <strong>Details</strong> panel, <strong>General</strong> pane, <strong>Data</strong> panel.</li>
  <li>In the list of process-level variables, select <em>count</em> and click <strong><em>Edit</em></strong>.</li>
  <li>In the Edit popup, enter the new name, and click <strong><em>OK</em></strong>.</li>
  <li>The variable name is automatically updated in the operation to increment the value when a survey form is submitted.</li>
  <li>A popup displays the connector definition content script that uses <em>count</em> and shows the script with the new name. Click <strong><em>Finish</em></strong> to confirm that you want the script to be changed.</li>
</ol>

<p><strong>Note</strong>: If you click <strong><em>Cancel</em></strong> to refuse the proposed change to the script or code displayed, the changes that were made automatically are cancelled. Modification that you saved in previous scripts for the same name change are also cancelled, even if you have saved them. If you use Ctrl+Z to cancel the change, you need to enter it twice: the first Ctrl+Z cancels the change in the widget, and the second one cancels the change in the related scripts and code.</p>

                       </article>
                    </div>
                </div>
            
            </div>
        </div>
    </div>
    <!-- scripts --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
    crossorigin="anonymous"></script>
    <script src="/bonita_doc/assets/javascripts/active_link.js"></script>

    <script src="/bonita_doc/assets/javascripts/collapse.js"></script>
    <script src="/bonita_doc/assets/javascripts/bundle.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/react/0.14.7/react.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/react/0.14.7/react-dom.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/searchkit/0.10.0/bundle.js"></script></body>
</html>