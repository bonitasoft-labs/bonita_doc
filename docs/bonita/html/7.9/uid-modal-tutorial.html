<div style="position: relative;"><a href="https://github.com/bonitasoft/bonita-doc/edit/7.9/md/uid-modal-tutorial.md"><img style="position: absolute; top: -1px; right: -40px; border: 0; z-index=-100;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a></div>
<h1>How to create a modal window in UI Designer</h1>
<p>A nice aspect of Bonita UI Designer is that it allows users to apply or customize styles to the page as per their requirements through CSS.</p>
<div class="alert alert-warning" role="alert">
<p><strong><i class="fa fa-exclamation-triangle"></i> Warning:</strong> This tutorial is deprecated starting with Bonita 7.8 because of the introduction of the modal container as a provided container. For more information, read the <a href="?hash=modal-container&amp;page=widgets" ng-click="contentCtrl.goTo($event, 'widgets', 'modal-container')" class="alert-link">modal container</a> page.</p>
</div>
<p>Throughout this tutorial you will see how to build a modal window using only CSS.
Let's get started by creating some content.
You will need a container which will end up being our modal and some other content on top of which that modal will be displayed.</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/initial-content.png" alt="Initial content" class="img-responsive img-thumbnail" title="Initial content"></p>
<h2>Display a container on top of all other elements</h2>
<p>Create a CSS file with the following content.</p>
<pre><code class="language-css">.Modal-content {
    position: absolute;
    width: 80%;
    left: 0;
    right: 0;
    margin: 5% auto;
    background-color: #fff;
    border-radius: 2px;
    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
    padding: 2em;
}
</code></pre>
<div class="alert alert-info" role="alert">
<p>Note that the name of the class used follows <a href="https://en.bem.info/" class="alert-link">BEM</a> methodology.<br>
BEM or any other structural naming convention enforces good practices such as responsibility segregation, reusability, name collision avoidance and more.</p>
</div>
<p>To use that file in the UI Designer you need to upload it as a page asset.<br>
To do so, open your page. Go to the <code>Assets</code> section at the bottom of the screen and click on <code>Add a new asset</code>.<br>
Select <code>CSS</code> type, <code>Local</code> source then upload your CSS file.<br>
It will be added to the page and all classes will be available and accessible from the property <code>CSS classes</code> of any element.</p>
<p>Now lets add <code>Modal-content</code> to the container property <code>CSS classes</code>.<br>
Check out the result by hitting the <code>Preview</code> button.</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/modal-content-container.png" alt="Modal content container" class="img-responsive img-thumbnail" title="Modal content container"></p>
<div class="alert alert-info" role="alert">
<p>While working on your CSS file, one could serve its local CSS file using a local <a href="https://www.npmjs.com/package/http-server" class="alert-link">server</a>.<br>
Then instead of uploading the file add an external CSS asset which point at your file. That would greatly speed up development.<br>
For production, that file would still need to be uploaded as a CSS asset.</p>
</div>
<h2>Add an overlay to make underneath elements inaccessible</h2>
<p>Add a new container and move the <code>Modal-content</code> container into the overlay container in order to to have it on top.<br>
Add the following code to CSS file.</p>
<pre><code class="language-css">.Modal-overlay {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background-color: rgba(0, 0, 0, .4);
    z-index: 1;
}
</code></pre>
<p>You now need to add the <code>Modal-overlay</code> class to our overlay container.</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/modal-overlay-container.png" alt="Modal overlay container" class="img-responsive img-thumbnail" title="Modal overlay container"></p>
<h2>Take control over the modal</h2>
<p>There is many other approach to deal with how and when to display a that modal with the UI designer.<br>
Here is one which could scale nicely with multiple modals.</p>
<h3>The creation</h3>
<p>Now that you got a modal you need to take control over when to display it.<br>
You will start by creating a JSON variable with an array called <code>modals</code>.<br>
So go to the <code>Variables</code> section at the bottom of the screen and click on <code>Create a new variable</code>.<br>
Give it the name <code>modals</code> and <code>JSON</code> type. It will take for value an empty array <code>[]</code>.</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/modals-variable.png" alt="Modals variable" class="img-responsive img-thumbnail" title="Modals variable"></p>
<p>Now bind the <code>modals</code> variable to the <code>Collection</code> property of the <code>Modal-overlay</code> container.<br>
That would have for effect to mask the modal whenever the array is empty.<br>
Also anything which add an object to the array <code>modals</code> will display a new modal.</p>
<p>For the purpose of this tutorial you will do that with a button.<br>
Lets add a button and configure the <code>Action</code> property with <code>Add to collection</code><br>
then bind the <code>modals</code> variable to the <code>Collection</code> property.</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/open-modal-button.png" alt="Open modal button" class="img-responsive img-thumbnail" title="Open modal button"></p>
<p>You can test the result using the preview.</p>
<h3>Ok now close that modal</h3>
<p>A direct follow up to the modal creation is to close it.<br>
The previous method allowed us to use another action from the button widget.<br>
First add a button in the modal and configure the <code>Action</code> property with <code>Remove from collection</code>.<br>
Then bind the <code>modals</code> variable to the <code>Collection</code> property.<br>
You need to define which object will be removed and you can do that by selecting <code>Item</code> for the <code>Remove</code> property and adding the <code>$item</code> variable to <code>Item to remove</code>.<br>
Here <code>$item</code> is available because it is in a repeated container context.</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/close-modal-button.png" alt="Close modal button" class="img-responsive img-thumbnail" title="Close modal button"></p>
<p>Here is the result of that tutorial</p>
<p><img src="bonita/images/7.9/uid-modal-tutorial/tuto-modal-result.gif" alt="Modal result" class="img-responsive img-thumbnail" title="Modal result"></p>
<!-- Generated on Wed Dec 04 2019 17:46:52 GMT+0100 (Paris, Madrid) -->