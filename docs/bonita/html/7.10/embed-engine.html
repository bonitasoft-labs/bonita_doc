<div style="position: relative;"><a href="https://github.com/bonitasoft/bonita-doc/edit/7.10/md/embed-engine.md"><img style="position: absolute; top: -1px; right: -40px; border: 0; z-index=-100;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a></div>
<h1>Embed Bonita Engine in your application</h1>
<p><img src="bonita/images/7.10/bonita-lab.png" alt="" title=""></p>
<div class="alert alert-warning" role="alert">
<p><strong>Warning</strong>: This is a Lab feature and is subject to change without warning in any version. It is not recommended for production.</p>
</div>
<p>Starting from version 7.9.0, new artifacts allow to start an embedded engine in your application.</p>
<h2>Using Spring Boot</h2>
<h3>Quick start</h3>
<p>Add a dependency on the artifact</p>
<p>Gradle</p>
<pre><code class="language-groovy">dependencies {
    implementation(&quot;org.bonitasoft.engine:bonita-engine-spring-boot-starter:$engineVersion&quot;)
}
</code></pre>
<p>Maven</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.bonitasoft.engine&lt;/groupId&gt;
    &lt;artifactId&gt;bonita-engine-spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;${bonita.engine.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<div class="alert alert-info" role="alert">
<p>If you are using Bonita subscription edition, change group id for <code>com.bonitasoft.engine</code> and artifact id for <code>bonita-engine-spring-boot-starter-sp</code></p>
</div>
<p>This will embed and start Bonita Engine when your application starts. Also a spring bean <code>org.bonitasoft.engine.api.APIClient</code> will be available and injected in your Spring beans. (<code>com.bonitasoft.engine.api.APIClient</code> if you are using subscription edition).</p>
<h3>Configuration</h3>
<p>Configuration uses the standard Spring Boot mechanism. The easiest way is to put them in your <code>application.properties</code> file.</p>
<p>All existing configuration can be found by your IDE using the completion in the <code>application.properties</code> file.
These configuration properties have as prefix <code>org.bonitasoft.engine</code> and <code>com.bonitasoft.engine</code></p>
<p>For now, only the following configuration is supported:</p>
<ul>
<li>the database connection settings for Bonita Engine</li>
<li>the database connection settings for business data</li>
<li>the size of the connection pools for the above databases</li>
</ul>
<p>In subscription edition, the url of the license can be configured using <code>com.bonitasoft.engine.license-file-url</code></p>
<p>All other configuration can be customized using the standard bonita configuration tool <a href="bonita/7.10/BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup')">Platform setup tool</a></p>
<h3>Example</h3>
<p>An example can be found in the <a href="https://github.com/bonitasoft/bonita-examples/tree/master/bonita-loan-request-application">bonita-examples</a> github repository.</p>
<h2>Programmatically</h2>
<p>If you do not wish to use Spring Boot, the integration can be done manually.</p>
<h3>Quick start</h3>
<p>Add a dependency on the following artifact</p>
<p>Gradle</p>
<pre><code class="language-groovy">dependencies {
    implementation(&quot;org.bonitasoft.engine:bonita-engine-standalone:$engineVersion&quot;)
}
</code></pre>
<p>Maven</p>
<pre><code class="language-xml">&lt;dependency&gt;
    &lt;groupId&gt;org.bonitasoft.engine&lt;/groupId&gt;
    &lt;artifactId&gt;bonita-engine-standalone&lt;/artifactId&gt;
    &lt;version&gt;${bonita.engine.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<div class="alert alert-info" role="alert">
<p>If you are using Bonita subscription edition, change group id for <code>com.bonitasoft.engine</code> and artifact id for <code>bonita-engine-standalone-sp</code></p>
</div>
<p>You can create a new instance of the engine like bellow</p>
<pre><code class="language-java">import org.bonitasoft.engine.BonitaEngine;
import org.bonitasoft.engine.api.APIClient;

//create the engine
BonnitaEngine engine = new BonitaEngine();

//start the engine
engine.start();

//create a client to use it
APIClient client = new APIClient()
</code></pre>
<div class="alert alert-info" role="alert">
<p>If you are using subscription edition, use <code>com.bonitasoft.engine.BonitaEngineSP</code> and <code>com.bonitasoft.engine.api.APIClient</code> objects instead.</p>
</div>
<h3>Configuration</h3>
<p>Configuration can be done programmatically on the <code>BonitaEngine</code> instance:</p>
<pre><code class="language-java">engine.setBonitaDatabaseConfiguration(BonitaDatabaseConfiguration.builder()
                .dbVendor(&quot;postgres&quot;)
                .url(&quot;jdbc url of the database&quot;)
                .user(&quot;user to use&quot;)
                .password(&quot;password to use&quot;)
                .build());
engine.setBusinessDataDatabaseConfiguration(BonitaDatabaseConfiguration.builder()
                .dbVendor(&quot;mysql&quot;)
                .url(&quot;jdbc url of the database&quot;)
                .user(&quot;user to use&quot;)
                .password(&quot;password to use&quot;)
                .build());
//Subscription only  
engine.setLicenseFileURL(/* url to the license file*/)
</code></pre>
<p>See Javadoc for more details.</p>
<h3>Example</h3>
<p>An example can be found in the <a href="https://github.com/bonitasoft/bonita-examples/tree/master/embedded-engine-example">bonita-examples</a> github repository.</p>
<h2>Known limitations</h2>
<div class="alert alert-warning" role="alert">
<p>The portal cannot be used with the embedded engine due to missing web resources when initializing the engine. This will be fix in future versions.</p>
</div>
<!-- Generated on Tue Dec 10 2019 12:49:51 GMT+0100 (Paris, Madrid) -->