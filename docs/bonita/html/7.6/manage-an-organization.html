<div style="position: relative;"><a href="https://github.com/bonitasoft/bonita-doc/edit/7.6/md/manage-an-organization.md"><img style="position: absolute; top: -1px; right: -40px; border: 0; z-index=-100;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a></div>
<h1>Manage an organization</h1>
<h2>Import an organization</h2>
<p>This example explains how to import an organization definition from an XML file into Bonita Engine.</p>
<p>The structure of the XML file is defined in an <a href="?page=organization-overview" ng-click="contentCtrl.goTo($event, 'organization-overview')">XSD file</a>.
To see an example of a well-formed XML file for an organization, export the ACME sample organization from Bonita Studio.</p>
<p>In the following example, the organization definition is stored in a file called <code>ACME.xml</code>, which is stored in <code>path</code>. The file content is converted to a string, and then imported.</p>
<pre><code class="language-groovy">final pOrganizationResourceName = &quot;path/ACME.xml&quot;
final File orgFile = FileUtils.toFile(getClass().getResource(pOrganizationResourceName));
final String orgContent = FileUtils.readFileToString(orgFile, CharEncoding.UTF_8);
getIdentityAPI().importOrganization(orgContent);
</code></pre>
<h2>List the groups in an organization</h2>
<p>This example shows how to get a list of groups in the current organization.</p>
<p>The search options specify that a maximum of 100 items are listed, starting with the first one.</p>
<p>Only one organization can be loaded in Bonita Engine at a time, so there is no need to specify the organization, and no organization identifier exists.</p>
<pre><code class="language-groovy">final IdentityAPI identityAPI = TenantAPIAccessor.getIdentityAPI(apiSession);
final SearchOptionsBuilder builder = new SearchOptionsBuilder(0, 100);
final SearchResult&lt;Group&gt; groupResults = identityAPI(apiSession).searchGroups(builder.done());
</code></pre>
<h2>Add a group</h2>
<p>This example shows how to add a group to the current organization.</p>
<pre><code class="language-groovy">final IdentityAPI identityAPI = new IdentityAccessor().getIdentityAPI(apiSession);
final GroupCreator groupCreator = new GroupCreator(name).setDescription(description);
final Group group = identityAPI.createGroup(groupCreator);
</code></pre>
<h2>Delete a group from the organization</h2>
<p>This example shows how to delete a group from the organization.</p>
<p>Deleting a group does not delete the users who belong to it. However, if the actor assignment for a process uses a group that is deleted, the users who belonged to the will no longer be able to perform tasks.</p>
<pre><code class="language-groovy">final IdentityAPI identityAPI = TenantAPIAccessor.getIdentityAPI(apiSession);
identityAPI.deleteGroup(groupId);
</code></pre>
<h2>Add a role</h2>
<p>This example shows how to add a role to the current organization.</p>
<pre><code class="language-groovy">final IdentityAPI identityAPI = new IdentityAccessor().getIdentityAPI(apiSession);
final RoleCreator roleCreator = new RoleCreator(name).setDescription(description);
final Role role = identityAPI.createRole(roleCreator);
</code></pre>
<h2>Delete a role from the organization</h2>
<p>This example shows how to delete a role from the organization.</p>
<p>Deleting a role does not delete the users who have that role.
However, if the actor assignment for a process uses a role that is deleted, the users who had the role will no longer be able to perform tasks.</p>
<pre><code class="language-groovy">final IdentityAPI identityAPI = TenantAPIAccessor.getIdentityAPI(apiSession);
identityAPI.deleteRole(roleId);
</code></pre>
<!-- Generated on Fri Jan 19 2018 16:08:27 GMT+0100 (Paris, Madrid) -->