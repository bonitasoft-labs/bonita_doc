<div style="position: relative;"><img style="position: absolute; top: -1px; right: -40px; border: 0; z-index=-100;" src="bonita/images/7.3/outOfSupport.png" alt="Out of support"></div>
<h1>JBoss bundle</h1>
<p>You will find here steps needed to install and configure a JBoss bundle.</p>
<p>The JBoss bundle is a zip archive that contains the Red Hat JBoss JEE application server packaged with Bonita BPM Portal and <a href="?hash=platform_setup_tool&amp;page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup', 'platform_setup_tool')">Bonita configuration folder</a>.<br>
The JBoss bundle is a regular zip archive based on the JBoss zip distribution.</p>
<h2>Installation of the JBoss bundle</h2>
<h3>Download and unzip the JBoss bundle</h3>
<a id="download" />
<h4>Download</h4>
<p>For the Community edition:</p>
<ul>
<li>Go to the <a href="http://www.bonitasoft.com/downloads-v2">Bonitasoft website</a> and get the Bonita BPM Community edition JBoss bundle.</li>
</ul>
<p>For a Subscription edition:</p>
<ul>
<li>Go to the <a href="https://customer.bonitasoft.com/download/request">Customer Portal</a> and download the Bonita BPM Subscription edition JBoss bundle.</li>
</ul>
<h4>Unzip</h4>
<p>The folder where you unzip the Jboss bundle is known as <em><code>&lt;JBOSS_HOME&gt;</code></em>. We recommend the following locations:</p>
<ul>
<li>Windows: <code>C:\BonitaBPM</code>. If you want to unzip the bundle to another folder, do not use spaces in the folder name.</li>
<li>Linux: in <code>/opt/BonitaBPM</code>. Make sure that Linux user account used to execute JBoss is the owner of the folders and files.</li>
</ul>
<h4>Content of the JBoss bundle</h4>
<p>The JBoss bundle is based on a standard JBoss installation with the following additions:</p>
<ul>
<li><code>bin/standalone.conf</code>: script to configure JVM system properties.</li>
<li><code>bonita-start.bat</code>: script to start the bundle on Windows.</li>
<li><code>bonita-start.sh</code>: script to start the bundle on Linux.</li>
<li><code>standalone/configuration/standalone.xml</code>: JBoss context configuration for Bonita BPM Portal. It defines data sources used by Bonita BPM Engine.</li>
<li><code>request_key_utils</code>: script to generate license request keys (Subscription editions only).</li>
<li><code>standalone/deployments/h2.sar</code>: application that runs the h2 server. (h2 is the default embedded database, not for production)</li>
<li><code>standalone/deployments/bonita-all-in-one-[version].ear</code>: Bonita BPM Portal (web application) and EJB3 API.</li>
</ul>
<div class="alert alert-info" role="alert">
<p><strong>Note:</strong> Starting from Bonita BPM 7.3.0, Bonita BPM Platform configuration, including the license file, is stored in the same database as the Bonita BPM Engine data, namely in the <code>CONFIGURATION</code> table.<br>
To initialize and update this configuration, a <a href="?page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup')" class="alert-link"><em>Platform setup tool</em></a> is provided and embedded in Bonita BPM bundles.
It will be launched automatically when you start the JBoss bundle to initialize the database.</p>
</div>
<p>So your bundle also contains:<br>
<code>setup</code>: database management for Bonita BPM Platform configuration and Bonita BPM Engine data, and a tool to update the configuration.</p>
<a id="configuration" />
<h3>Configure the JBoss bundle</h3>
<div class="alert alert-info" role="alert">
<p>If you just want to try Bonita BPM Platform with the embedded h2 database (only for development phase of your project), you can skip the next two paragraphs.<br>
For production, you are recommended to use one of the supported databases, with the following steps.</p>
</div>
<h4>Configure Bonita BPM Platform datasource</h4>
<p>Make sure your database is created before you start the configuration and make sure you do this before you start the JBoss server.</p>
<p>The first step is to configure the database used by the <a href="?page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup')"><em>Platform setup tool</em></a> to initialize the configuration.</p>
<p>To do so, go to <code>&lt;JBOSS_HOME&gt;/</code> and update the <code>setup/database.properties</code> files with the connection information of the  database.</p>
<a id="database" />
<h4>Configure the JBoss server datasources</h4>
<p>After configuring the datasource to let the Platform setup tool intialize the configuration, you need to configure this datasource on the server. Follow those steps:</p>
<ol>
<li>Update the datasource configuration in <code>standalone/configuration/standalone.xml</code> by uncommenting and commenting relevant parts</li>
<li>Update the <code>&lt;property name=&quot;sysprop.bonita.db.vendor&quot; value=&quot;h2&quot; /&gt;</code> in <code>standalone/configuration/standalone.xml</code> with your database vendor</li>
<li>Remove the <code>standalone/deployments/h2.sar</code> file</li>
<li>Add the JDBC driver as decribed in the <a href="?hash=jdbc_driver&amp;page=database-configuration" ng-click="contentCtrl.goTo($event, 'database-configuration', 'jdbc_driver')">database configuration</a> page</li>
</ol>
<h3>Get and install a license</h3>
<div class="alert alert-info" role="alert">
<p>This is not necessary if you are installing the Community edition.</p>
</div>
<p>If you are installing a Subscription edition, you need to <a href="?page=licenses" ng-click="contentCtrl.goTo($event, 'licenses')">request a license</a>.</p>
<a id="license" />
<p>When you receive your license:
If this is your first installation, copy the file to the <code>&lt;JBOSS_HOME&gt;/setup/platform_conf/licenses</code> folder before starting the bundle.
If this is a license update, use <a href="?hash=update_platform_conf&amp;page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup', 'update_platform_conf')">the <em>Platform setup tool</em></a>.</p>
<h3>Edition specification</h3>
<p>If you are installing the Performance Subscription edition, you need to edit <a href="?page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup')"><code>setup/platform_conf/initial/platform_init_engine/bonita-platform-init-community-custom.properties</code></a> and change the value of the <code>activeProfiles</code> key to <code>'community,performance'</code>.
No change is needed for the Community, Teamwork, or Efficiency editions.</p>
<a id="start" />
<h3>Start and shut down JBoss</h3>
<h4>JBoss start script</h4>
<p>JBoss can be started by executing the following script:</p>
<ul>
<li>Windows <code>&lt;JBOSS_HOME&gt;\bonita-start.bat</code></li>
<li>Linux <code>&lt;JBOSS_HOME&gt;/bonita-start.sh</code></li>
</ul>
<h4>Shutdown</h4>
<p>JBoss can be shut down by running the following script:</p>
<ul>
<li>Windows <code>&lt;JBOSS_HOME&gt;\bin\jboss-cli.bat --connect --command=:shutdown</code></li>
<li>Linux <code>&lt;JBOSS_HOME&gt;/bin/jboss-cli.sh --connect --command=:shutdown</code></li>
</ul>
<p>You can also press Ctrl + C.</p>
<h2>First steps after installation</h2>
<p>Once you have your JBoss bundle up and running, complete these <a href="?page=first-steps-after-setup" ng-click="contentCtrl.goTo($event, 'first-steps-after-setup')">first steps</a> to get Bonita BPM Platform fully operational.</p>
<h3>How to update the configuration</h3>
<p>To update the configuration after the first run please take a look at the <a href="?hash=update_platform_conf&amp;page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup', 'update_platform_conf')"><em>Platform setup tool</em></a></p>
<div class="alert alert-info" role="alert">
<p><strong>Keep in mind</strong> that <a href="?hash=configure_tool&amp;page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup', 'configure_tool')" class="alert-link">platform setup tool</a> is independent from Jboss Bundle and thus needs to be configured by itself to point to the right database.
This is done by editing file <code>database.properties</code></p>
</div>
<h3>How to update the license</h3>
<p>To update the licenses after the first run please take a look at the <a href="?hash=update_platform_conf&amp;page=BonitaBPM_platform_setup" ng-click="contentCtrl.goTo($event, 'BonitaBPM_platform_setup', 'update_platform_conf')">platform setup tool</a></p>
<!-- Generated on Tue Jun 19 2018 09:27:07 GMT+0200 (Paris, Madrid (heure d’été)) -->