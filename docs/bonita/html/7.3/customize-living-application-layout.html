<div style="position: relative;"><img style="position: absolute; top: -1px; right: -40px; border: 0; z-index=-100;" src="bonita/images/7.3/outOfSupport.png" alt="Out of support"></div>
<h1>Customize living application layout</h1>
<div class="alert alert-info" role="alert">
<p><strong>Note:</strong> For Performance, Efficiency, and Teamwork editions only.</p>
</div>
<div class="alert alert-warning" role="alert">
<p>Since 7.3 we made some changes on the default layout. You will have to remove <code>layout.css</code> from the page asset to make the following instructions relevant.</p>
</div>
<h2>Overview</h2>
<p>As explained in the <a href="?page=layouts" ng-click="contentCtrl.goTo($event, 'layouts')">layouts</a> documentation page, it is possible to customize the existing application layout with the UI Designer.</p>
<p>For example, you could:</p>
<ul>
<li>Add a login box</li>
<li>Change the menu to add a side menu</li>
<li>Add a footer</li>
</ul>
<p>Prerequisites to customize the default living application layout:</p>
<ul>
<li>Basic knowledge of Java script</li>
<li>Basic knowledge of AngularJS</li>
<li>Basic knowledge of Bootstrap</li>
<li>Basic knowledge of the UI Designer</li>
<li>An existing living application (to test the modified layout)</li>
</ul>
<p>The following example shows how to convert the default top menu of an application into a side menu.<br>
The example sections show how to:</p>
<ul>
<li>Export the default application layout from the Bonita BPM Portal</li>
<li>Import the default application layout into the UI Designer</li>
<li>Modify this layout</li>
<li>Apply the customized layout onto a living application.</li>
</ul>
<h2>Export the default application layout from Bonita BPM Portal</h2>
<ol>
<li>Open Bonita BPM Portal, and log in with username and password of someone mapped to the Administrator profile.</li>
<li>Click on the <strong>Resources</strong> menu.</li>
<li>Select the filter <strong>Layouts</strong>.</li>
<li>Select the element <strong>Default layout</strong>.</li>
<li>Click on <strong>Export</strong> and save this <strong>Default layout</strong> on your file system.</li>
</ol>
<h2>Import the default application layout into the UI Designer</h2>
<p>To facilitate the modifications, the <strong>default layout</strong> is built using the UI Designer. Then you just have to import it into the UI Designer to make changes.</p>
<ol>
<li>Open the UI Designer.</li>
<li>Click on the <strong>Import</strong> button.</li>
<li>Retrieve the <strong>Default layout</strong> to import.</li>
</ol>
<h2>Edit the default layout using the UI Designer</h2>
<p>When you import the <strong>Default layout</strong> into the UI Designer, you can see that it generates three artefacts:</p>
<ol>
<li><strong>Living application layout page</strong>.</li>
<li><strong>Living application IFrame</strong> widget to display the application page.</li>
<li><strong>Living application menu</strong> widget to display the application menu.</li>
</ol>
<p>So we propose here to convert the <strong>Living application menu</strong> into a side menu.</p>
<p>Into the UI Designer:</p>
<ol>
<li>Click on <strong>Living application menu</strong> widget to open the widget editor.</li>
<li>Replace the template by using the following one:</li>
</ol>
<pre><code class="language-html">&lt;div class=&quot;container&quot; style=&quot;height:100%&quot;&gt;
        &lt;div class=&quot;row&quot;&gt;
                &lt;div id=&quot;leftCol&quot;&gt;
                        &lt;div class=&quot;well&quot;&gt;
                                &lt;ul class=&quot;nav nav-stacked&quot; id=&quot;sidebar&quot;&gt;
                                        &lt;li ng-class=&quot;{active:ctrl.pageToken===menu.applicationPageId.token}&quot; ng-repeat=&quot;menu in ctrl.filterChildren(-1)&quot; dropdown&gt;
                                                &lt;a ng-if=&quot;!ctrl.isParentMenu(menu)&quot; ng-href=&quot;../{{menu.applicationPageId.token}}/&quot; ng-click=&quot;ctrl.reload()&quot; &gt;{{menu.displayName}}&lt;/a&gt;            
                                                &lt;a ng-if=&quot;ctrl.isParentMenu(menu)&quot; dropdown-toggle&gt;{{menu.displayName}}&lt;span class=&quot;caret&quot;&gt;&lt;/span&gt;&lt;/a&gt;
                                                &lt;ul ng-if=&quot;ctrl.isParentMenu(menu)&quot; class=&quot;dropdown-menu&quot;&gt;  
                                                        &lt;li ng-repeat=&quot;childMenu in ctrl.filterChildren(menu.id)&quot;&gt;
                                                                &lt;a ng-href=&quot;../{{childMenu.applicationPageId.token}}/&quot; ng-click=&quot;ctrl.reload()&quot;&gt;{{childMenu.displayName}}&lt;/a&gt;
                                                        &lt;/li&gt;
                                                &lt;/ul&gt;
                                        &lt;/li&gt;
                                &lt;/ul&gt;
                        &lt;/div&gt;
                &lt;/div&gt;  
        &lt;/div&gt;  
&lt;/div&gt;
</code></pre>
<ol start="3">
<li>Click on <strong>Save</strong>.</li>
<li>Return to the UI Designer home page.</li>
<li>Click on <strong>Living application layout page</strong>.</li>
<li>Drag and drop the existing <strong>living application Menu</strong> on the left side of the <strong>living application IFrame</strong>.</li>
<li>Resize the <strong>living Application Menu</strong> by setting the width to 2.</li>
<li>Resize the <strong>living Application IFrame</strong> by setting the width to 10.</li>
<li>Click on <strong>Save</strong>.</li>
</ol>
<h2>Export the Side menu layout on your file system</h2>
<p>Once your changes are made, save the new layout using a new name and then export it.</p>
<ol>
<li>Rename it into <strong>SideMenuLayout</strong>.</li>
<li>Click on <strong>Save</strong>.</li>
<li>Click on the <strong>Export</strong> button.</li>
</ol>
<h2>Import the <strong>Side Menu Layout</strong> into the portal</h2>
<ol>
<li>Open the Bonita BPM Portal, and again log in with username and password of someone mapped to the Administrator profile.</li>
<li>Click on the <strong>Resources</strong> menu.</li>
<li>Click on <strong>Add</strong>.</li>
<li>Add the new <strong>Side Menu Layout Page</strong>.</li>
<li>Click <strong>Next</strong>.</li>
<li>Click <strong>Confirm</strong>.</li>
</ol>
<h2>Configure your living application to use the modified layout</h2>
<ol>
<li>Click on the <strong>Applications</strong> menu.</li>
<li>Click on the edit action <strong>...</strong> of your living application.</li>
<li>In the <strong>Look &amp; Feel</strong> section, click on the layout link</li>
<li>Select the <strong>Side Menu layout</strong></li>
<li>Click on the validation button</li>
<li>In the application details section, click on the URL link to navigate to your living application.</li>
<li>See your new application layout with a side menu.</li>
<li>Feel free to add lots of new improvements to create the layout that fits your needs.</li>
</ol>
<h2>Troubleshooting</h2>
<h3>Living application layout log 3 error 500 on loading</h3>
<p>This issue has been fixed in the 7.3.0 version (&quot;[BS-14885] - Living application layout log 3 error 500 on loading&quot;).
If you want to import a custom layout created with an oldest UIDesigner version (7.2.x or lower) in a 7.3.0 (or greater) version, you have to perform the following
steps to prevent the issue to occur.</p>
<ol>
<li>Import the CustomLayout_7.2.x in UIDesigner 7.3.3</li>
<li>Export the default layout from Bonita Portal</li>
<li>Import the default layout and confirm the overwrite of custom widgets</li>
<li>Open the CustomLayout_7.2.x Layout and remove the 3 variables AuthorizeApplicationAPI, AuthorizeApplicationPageAPI and AuthorizeApplicationMenuAPI (as shown below)
Those variables are responsible of the SEVERE error logs on server.</li>
<li>Select the iFrame widget and set the reziseToContent option to yes</li>
<li>Save then Export the layout (feel free to rename the layout if you want)</li>
<li>On Bonita Portal server edit the layout and import the newly exported layout</li>
<li>confirm all the messages</li>
<li>Validate that your application has a layout that fits your requirements.</li>
</ol>
<!-- Generated on Tue Jun 19 2018 09:27:07 GMT+0200 (Paris, Madrid (heure d’été)) -->